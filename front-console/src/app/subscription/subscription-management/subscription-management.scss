// --- VARIABLES ---
$text-main: #0f172a;
$text-muted: #64748b;
$bg-light: #f8fafc;
$card-bg: #ffffff;
$border: #e2e8f0;

$color-free: #64748b;
$color-pro: #d97706;       
$color-enterprise: #7c3aed; 

// --- CONTAINER & HEADER ---
.sub-container {
  padding: 2rem; max-width: 1000px; margin: 0 auto;
  font-family: 'Inter', sans-serif; background: $bg-light; min-height: calc(100vh - 64px);
}

.page-header {
  display: flex; justify-content: space-between; align-items: flex-start;
  margin-bottom: 3rem; flex-wrap: wrap; gap: 2rem;
  h1 { margin: 0; font-size: 1.8rem; color: $text-main; display: flex; align-items: center; gap: 12px; }
  p { margin: 0.5rem 0 0 0; color: $text-muted; }
}

// --- CONTROLS ---
.simulation-area { display: flex; flex-direction: column; align-items: flex-end; gap: 6px; position: relative; label { font-size: 0.75rem; font-weight: 700; color: $text-muted; text-transform: uppercase; } }
.control-group {
  display: flex; align-items: center; gap: 10px; background: white; padding: 6px; border-radius: 8px; border: 1px solid $border;
  select { padding: 8px 12px; border: none; background: transparent; font-size: 0.9rem; font-weight: 500; cursor: pointer; &:focus { outline: none; } }
  .btn-check {
    background-color: $text-main; color: white; border: none; padding: 8px 16px; border-radius: 6px;
    cursor: pointer; font-weight: 600; font-size: 0.85rem; display: flex; align-items: center; gap: 8px;
    &:hover { background-color: lighten($text-main, 10%); } &:disabled { opacity: 0.7; }
  }
  .btn-help { background: none; border: none; color: $text-muted; font-size: 1.1rem; cursor: pointer; &:hover { color: $color-pro; } }
}
.cost-tooltip {
  margin-top: 5px; background: #fffbeb; border: 1px solid #fcd34d; color: #92400e; padding: 10px 14px;
  border-radius: 8px; font-size: 0.8rem; display: flex; align-items: flex-start; gap: 10px; max-width: 320px;
  animation: slideDown 0.2s ease-out;
}
@keyframes slideDown { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }

// --- PLAN CARD ---
.plan-card {
  background: $card-bg; border-radius: 16px; padding: 2rem; border: 1px solid $border; box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1);
  &.free { border-top: 6px solid $color-free; .plan-badge { background: $color-free; } .big-icon, .progress-fill { color: $color-free; background-color: $color-free; } }
  &.pro { border-top: 6px solid $color-pro; .plan-badge { background: $color-pro; } .big-icon, .progress-fill { color: $color-pro; background-color: $color-pro; } }
  &.enterprise { border-top: 6px solid $color-enterprise; .plan-badge { background: $color-enterprise; } .big-icon, .progress-fill { color: $color-enterprise; background-color: $color-enterprise; } }
}

.card-header {
  display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;
  .plan-badge { color: white; padding: 6px 16px; border-radius: 20px; font-weight: 700; font-size: 0.8rem; text-transform: uppercase; }
}

// --- STATUS BADGES ---
.status-badge {
  padding: 6px 12px; border-radius: 20px; font-size: 0.85rem; font-weight: 700; display: flex; align-items: center; gap: 8px; text-transform: uppercase;
  &.status-ok { background: #dcfce7; color: #166534; border: 1px solid #bbf7d0; }
  &.status-warn { background: #ffedd5; color: #9a3412; border: 1px solid #fed7aa; }
  &.status-error { background: #fee2e2; color: #991b1b; border: 1px solid #fecaca; }
}

.card-body {
  display: flex; align-items: center; gap: 2rem; margin-bottom: 2rem;
  .big-icon { font-size: 3rem; width: 80px; height: 80px; display: flex; align-items: center; justify-content: center; border-radius: 50%; opacity: 0.1; i { opacity: 1; } }
  .credits-info { .number { font-size: 3.5rem; font-weight: 800; color: $text-main; line-height: 1; } .label { color: $text-muted; font-size: 0.9rem; font-weight: 600; text-transform: uppercase; margin-top: 5px; } }
}

// --- ADMIN ACTIONS ---
.admin-actions {
  margin: 0 0 2rem 0; padding: 1.5rem; background: #f8fafc; border-radius: 12px; border: 1px dashed $border;
  display: flex; flex-direction: column; align-items: center; gap: 10px;
  .btn-action {
    width: 100%; max-width: 300px; padding: 12px; border-radius: 8px; border: none; font-size: 1rem; font-weight: 600; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 10px; transition: all 0.2s;
    &:active { transform: scale(0.98); }
    &.btn-enable { background: #10b981; color: white; &:hover { background: #059669; } }
    &.btn-disable { background: #ef4444; color: white; &:hover { background: #dc2626; } }
  }
  .action-info { color: $text-muted; font-size: 0.85rem; font-style: italic; }
}

.card-footer {
    .progress-label { display: flex; justify-content: space-between; margin-bottom: 8px; font-size: 0.85rem; color: $text-muted; font-weight: 600; }
    .progress-track { width: 100%; height: 10px; background: #e2e8f0; border-radius: 5px; overflow: hidden; }
    .progress-fill { height: 100%; transition: width 0.5s ease; }
}

.api-message {
  margin-top: 2rem; padding: 1.5rem; border-radius: 12px; display: flex; gap: 1rem; align-items: flex-start;
  &.authorized { background: #f0fdf4; border: 1px solid #bbf7d0; .icon-box { color: #16a34a; } }
  &.denied { background: #fef2f2; border: 1px solid #fecaca; .icon-box { color: #dc2626; } }
  .icon-box { font-size: 1.5rem; margin-top: 2px; }
  .message-content { strong { display: block; margin-bottom: 4px; font-size: 1rem; color: $text-main; } p { margin: 0; font-size: 0.9rem; color: $text-muted; } }
  .reason-text { margin-top: 6px; font-size: 0.85rem; color: $text-muted; font-style: italic; }
}

// Responsive
@media (max-width: 768px) {
  .page-header { flex-direction: column; gap: 1rem; }
  .control-group { width: 100%; justify-content: space-between; }
  .card-body { flex-direction: column; align-items: flex-start; gap: 1rem; }
}